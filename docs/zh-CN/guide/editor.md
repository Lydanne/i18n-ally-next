# 可视化翻译编辑器

i18n Ally Next 内置了一个 Webview 翻译编辑面板，提供比直接编辑 JSON/YAML 语言文件更直观的编辑体验。

## 打开编辑器

有多种方式打开编辑器：

- **命令面板** — 运行 `i18n Ally Next: Open Editor`（`Cmd+Shift+P`）
- **悬停菜单** — 悬停在代码中的翻译键上，点击编辑器图标
- **侧边栏** — 在 i18n Ally 侧边栏中点击某个键

## 编辑器模式

### 当前文件模式

从代码文件中打开时，编辑器进入**当前文件模式**：

- 仅显示当前活动文件中使用的键
- 在侧边列（ViewColumn.Two）中打开，支持分屏编辑
- 切换文件或保存更改时自动更新
- 支持键名导航——在代码中跳转键时，编辑器自动同步

### 独立模式

从命令面板打开且当前没有支持的文件时，编辑器进入**独立模式**：

- 浏览和编辑项目中的所有翻译键
- 搜索和筛选键
- 在当前列中打开

## 功能特性

- **多语言视图** — 并排查看所有语言的翻译
- **内联编辑** — 直接在编辑器中编辑翻译
- **审阅集成** — 查看评论、批准/拒绝翻译、管理候选翻译
- **实时同步** — locale 文件的更改会立即反映
- **配置同步** — VS Code 设置变更时编辑器自动更新

## 配置

```jsonc
// .vscode/settings.json
{
  // 悬停在键上时，优先打开编辑器而非内联编辑
  "i18n-ally-next.editor.preferEditor": true
}
```

## 键名导航

在编辑器以当前文件模式打开时，你可以在翻译键之间快速导航：

- **下一个键** — `Ctrl+Alt+→`（macOS 上为 `Cmd+Alt+→`）
- **上一个键** — `Ctrl+Alt+←`（macOS 上为 `Cmd+Alt+←`）

编辑器面板会自动同步到光标位置的键。

::: tip
键名导航在编辑器未打开时也可以使用——它会将光标移动到当前文件中的下一个/上一个翻译键使用位置。
:::
